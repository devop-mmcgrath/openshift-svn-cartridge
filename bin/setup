#!/bin/bash -eu

# svn cartridge for testing and verifying node platform code. This is
# not an example of how to write a well-formed cartridge.

case "$1" in
  -v|--version)
    version="$2"
esac

mkdir -p $OPENSHIFT_DATA_DIR/svn/
svnadmin create $OPENSHIFT_DATA_DIR/svn/$OPENSHIFT_APP_NAME
ln -s ~/git/kitchensink.git/hooks/pre-receive $OPENSHIFT_DATA_DIR/svn/$OPENSHIFT_APP_NAME/hooks/pre-commit
ln -s ~/git/kitchensink.git/hooks/post-receive $OPENSHIFT_DATA_DIR/svn/$OPENSHIFT_APP_NAME/hooks/post-lock

exit 0
